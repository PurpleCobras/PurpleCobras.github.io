function play(e){switch(e){case 1:playerColor="red";break;case 2:playerColor="orange";break;case 3:playerColor="yellow";break;case 4:playerColor="green";break;case 5:playerColor="blue";break;case 6:playerColor="indigo";break;case 7:playerColor="violet";break;case 8:playerColor="cyan";break;case 9:playerColor="chartreuse";break;case 10:playerColor="magenta";break;case 11:playerColor="navy";break;case 12:playerColor="chocolate"}document.getElementById("menuLogo");document.getElementById("colorMenu").style.display="none",document.getElementById("mazeDiv").style.display="inline",document.getElementById("functionDiv").style.display="inline",document.getElementById("hit_missDiv").style.display="inline",document.getElementById("textDiv").style.display="inline",visHitMiss.structure("array").location("#hit_missDiv").data(hit_Miss).visualize(),init()}function colorChoice(e){difficulty=e,document.getElementById("menu").style.display="none",document.getElementById("colorMenu").style.display="inline"}function init(){questionDiff=0,answer1status=0,answer2status=0,answer3status=0,answer4status=0,XanswerCoords=[],YanswerCoords=[],window.addEventListener("keydown",doKeyDown,!0),generateQuestion(),chooseMaze(),last_src=src,img.src=src,visHitMiss.update(hit_Miss),draw()}function rect(e,t,s,o){ctx2.beginPath(),ctx2.rect(e,t,s,o),ctx2.closePath(),ctx2.fill()}function clear(){ctx2.clearRect(0,0,WIDTH,HEIGHT),ctx2.drawImage(img,0,0)}function chooseMaze(){var e=Math.floor(20*Math.random())+1;for(player_x=255,player_y=255,src=possibleMazes[e],maze_type=e;;){if(src=possibleMazes[e-1],maze_type=e,src!=last_src)break;e=Math.floor(20*Math.random())+1}}function drawEasyEquation(e,t,s,o,r,n,a,i){switch(ctx.clearRect(0,0,WIDTH,HEIGHT),s){case 1:case 2:case 3:case 5:var l;1==s?l="+":2==s?l="-":3==s?l="*":5==s&&(l="/");var c=e.toString(),d=t.toString();c=c.length,d=d.length;var w=14*c,m=14*d,g=252.5-(w+m);ctx.font="20px Lucida Console",ctx.fillText(e,g,30),ctx.fillText(l,g+w,30),ctx.fillText(t,g+w+15,30),ctx.fillText("=",g+w+15+m,30),ctx.fillText(random_character(),g+w+15+m+15,30);break;case 4:if(o){var g=207.5;ctx.font="20px Lucida Console",ctx.fillText(e,g,30),ctx.font="14px Lucida Console",ctx.fillText(t,g+15,20),ctx.font="20px Lucida Console",ctx.fillText("=",g+29,30),ctx.fillText(random_character(),g+45,30)}else{var g=208.5;ctx.font="20px Lucida Console",ctx.fillText(e,g,30),ctx.font="14px Lucida Console",ctx.fillText(random_character(),g+15,20),ctx.font="20px Lucida Console",ctx.fillText("=",g+29,30),ctx.fillText(t,g+44,30)}break;case 6:ctx.font="19px Lucida Console";var c=e.toString();c=c.length;var f=87+14*c,g=252.5-f;ctx.fillText("Find the Least Common Multiple of ",0,30),ctx.fillText(e,390,30),ctx.fillText("and",390+14*c,30),ctx.fillText(t,430+14*c,30);break;case 7:ctx.font="20px Lucida Console";var c=e.toString(),d=t.toString(),p=r.toString();c=c.length,d=d.length,p=p.length;var u=13*c,g=252.5-(u+40+13*d)/2;ctx.fillText(e,g,30),ctx.fillText(random_character(),g+u,30),1==n?ctx.fillText("+",g+u+13,30):ctx.fillText("-",g+u+13,30),ctx.fillText(t,g+u+27,30),ctx.fillText("=",g+u+27+13*d,30),ctx.fillText(r,g+u+40+13*d,30);break;case 8:ctx.font="18px Lucida Console";var c=e.toString();c=c.length;var d=t.toString();d=d.length,ctx.fillText("Find the greatest common factor of ",0,30),ctx.fillText(e,382,30),ctx.fillText("and",382+14*c,30),ctx.fillText(t,382+14*c+40,30);break;case 9:ctx.font="20px Lucida Console";var l,h;l=1==o?"+":"-",h=1==a?"+":"-";var c=e.toString();c=c.length;var p=r.toString();p=p.length;var x=n.toString();x=x.length;var y=i.toString();y=y.length;var A=252.5-(13*c+57+14*p+13*x+13*y)/2;ctx.fillText(e,A,30),ctx.fillText(t,13*c+A,30),ctx.fillText(l,13*c+14+A,30),ctx.fillText(r,13*c+29+A,30),ctx.fillText("=",13*c+29+14*p+A,30),ctx.fillText(n,13*c+43+14*p+A,30),ctx.fillText(h,13*c+43+14*p+13*x+A,30),ctx.fillText(i,13*c+57+14*p+13*x+A,30),ctx.fillText(t,13*c+57+14*p+13*x+13*y+A,30)}}function drawAnswers(){ctx2.font="bold 12px Lucida Console";var e=possibleAnswers[0].toString(),t=possibleAnswers[1].toString(),s=possibleAnswers[2].toString(),o=possibleAnswers[3].toString(),r=0,n=0;1==answer1status?ctx2.fillText(e,600,600):1==e.length?(r=XanswerCoords[possAnswer1-1]+23,n=YanswerCoords[possAnswer1-1]+30,ctx2.fillText(e,r,n)):2==e.length?(r=XanswerCoords[possAnswer1-1]+15,n=YanswerCoords[possAnswer1-1]+30,ctx2.fillText(e,r,n)):(r=XanswerCoords[possAnswer1-1]+10,n=YanswerCoords[possAnswer1-1]+30,ctx2.fillText(e,r,n)),1==answer2status?ctx2.fillText(t,600,600):1==t.length?(r=XanswerCoords[possAnswer2-1]+23,n=YanswerCoords[possAnswer2-1]+30,ctx2.fillText(t,r,n)):2==t.length?(r=XanswerCoords[possAnswer2-1]+15,n=YanswerCoords[possAnswer2-1]+30,ctx2.fillText(t,r,n)):(r=XanswerCoords[possAnswer2-1]+10,n=YanswerCoords[possAnswer2-1]+30,ctx2.fillText(t,r,n)),1==answer3status?ctx2.fillText(s,600,600):1==s.length?(r=XanswerCoords[possAnswer3-1]+23,n=YanswerCoords[possAnswer3-1]+30,ctx2.fillText(s,r,n)):2==s.length?(r=XanswerCoords[possAnswer3-1]+15,n=YanswerCoords[possAnswer3-1]+30,ctx2.fillText(s,r,n)):(r=XanswerCoords[possAnswer3-1]+10,n=YanswerCoords[possAnswer3-1]+30,ctx2.fillText(s,r,n)),1==answer4status?ctx2.fillText(o,600,600):1==o.length?(r=XanswerCoords[possAnswer4-1]+23,n=YanswerCoords[possAnswer4-1]+30,ctx2.fillText(o,r,n)):2==o.length?(r=XanswerCoords[possAnswer4-1]+15,n=YanswerCoords[possAnswer4-1]+30,ctx2.fillText(o,r,n)):(r=XanswerCoords[possAnswer4-1]+10,n=YanswerCoords[possAnswer4-1]+30,ctx2.fillText(o,r,n))}function drawCheckOrX(e,t,s){ctx2.beginPath(),ctx2.drawImage(e,t,s,20,20),ctx2.closePath()}function draw(){now=Date.now(),delta=now-then,delta>interval&&(then=now-delta%interval,ctx3.clearRect(0,0,scoreboard.width,scoreboard.height),current_time=new Date,current_time_ms=current_time.getTime(),img.onload=function(){var e=0,t=0,s=0;for(wrongCount=0,start_time=new Date,start_time_ms=start_time.getTime(),seconds=0,minutes=0,hours=0,ctx2.drawImage(img,0,0),t=45;495>=t;t+=50)for(e=45;495>=e;e+=50)if(245!==e&&245!==t){for(var o=ctx2.getImageData(e,t,55,55),r=0;n=o.data.length,r<n;r+=4)0==o.data[r]&&s++;s>=775&&(XanswerCoords.push(e),YanswerCoords.push(t)),s=0}find_Possible_Answers_Coordinates()},scoreboarddisplay(current_time-start_time),clear(),ctx2.fillStyle=playerColor,rect(player_x,player_y,35,35),ctx2.fillStyle="black",drawAnswers(),wrongAnswer&&(console.log(animationYCoord),drawCheckOrX(xImg,animationXCoord,animationYCoord),animationYCoord-=1),rightAnswer&&(drawCheckOrX(checkImg,animationXCoord,animationYCoord),animationYCoord-=1)),requestAnimationFrame(draw)}function doKeyDown(e){switch(e.keyCode){case 37:checkcollision(1),clear(),1==collision?collision=0:(player_x-=dx,checkForAnswer());break;case 38:clear(),checkcollision(2),1==collision?collision=0:(player_y-=dy,checkForAnswer());break;case 39:clear(),checkcollision(3),1==collision?collision=0:(player_x+=dx,checkForAnswer());break;case 40:clear(),checkcollision(4),1==collision?collision=0:(player_y+=dy,checkForAnswer())}}function checkcollision(e){var t,s=0,o=0;1==e?(s=player_x-7,o=player_y,t=ctx2.getImageData(s,o,1,1)):2==e?(s=player_x,o=player_y-7,t=ctx2.getImageData(s,o,1,1)):3==e?(s=player_x+42,o=player_y,t=ctx2.getImageData(s,o,1,1)):4==e&&(s=player_x,o=player_y+42,t=ctx2.getImageData(s,o,1,1)),0==t.data[0]&&(collision=1)}function checkForAnswer(){var e=possibleAnswers[0].toString(),t=possibleAnswers[1].toString(),s=possibleAnswers[2].toString(),o=possibleAnswers[3].toString();wrongAnswer||(animationYCoord=player_y,animationXCoord=player_x),0==answer1status&&player_x==XanswerCoords[possAnswer1-1]+10&&player_y==YanswerCoords[possAnswer1-1]+10&&(answer==e?correctAns(1):wrongAns(1)),0==answer2status&&player_x==XanswerCoords[possAnswer2-1]+10&&player_y==YanswerCoords[possAnswer2-1]+10&&(answer==t?correctAns(2):wrongAns(2)),0==answer3status&&player_x==XanswerCoords[possAnswer3-1]+10&&player_y==YanswerCoords[possAnswer3-1]+10&&(answer==s?correctAns(3):wrongAns(3)),0==answer4status&&player_x==XanswerCoords[possAnswer4-1]+10&&player_y==YanswerCoords[possAnswer4-1]+10&&(answer==o?correctAns(4):wrongAns(4)),visHitMiss.update(hit_Miss)}function correctAns(e){switch(e){case 1:answer1status=1;break;case 2:answer2status=1;break;case 3:answer3status=1;break;case 4:answer4status=1}rightAnswer=!0,wrongAnswer=!1,ctx3.clearRect(0,0,scoreboard.width,scoreboard.height),player_score+=points(start_time,current_time_ms),hit_Miss[0]+=1,visHitMiss.attr("index-color","green",0),window.removeEventListener("keydown",doKeyDown,!0),setTimeout(function(){rightAnswer=!1,visHitMiss.attr("index-color","white",0),visHitMiss.update(hit_Miss),init()},1e3)}function wrongAns(e){switch(e){case 1:answer1status=1;break;case 2:answer2status=1;break;case 3:answer3status=1;break;case 4:answer4status=1}hit_Miss[1]+=1,visHitMiss.attr("index-color","red",1),wrongAnswer=!0,wrongCount+=1,setTimeout(function(){visHitMiss.attr("index-color","white",1),visHitMiss.update(hit_Miss),wrongAnswer=!1},1500)}function find_Possible_Answers_Coordinates(){for(possAnswer1=Math.floor(Math.random()*XanswerCoords.length)+1,possAnswer2=Math.floor(Math.random()*XanswerCoords.length)+1,possAnswer3=Math.floor(Math.random()*XanswerCoords.length)+1,possAnswer4=Math.floor(Math.random()*XanswerCoords.length)+1;possAnswer2==possAnswer1;)possAnswer2=Math.floor(Math.random()*XanswerCoords.length)+1;for(;possAnswer3==possAnswer1||possAnswer3==possAnswer2;)possAnswer3=Math.floor(Math.random()*XanswerCoords.length)+1;for(;possAnswer4==possAnswer1||possAnswer4==possAnswer2||possAnswer4==possAnswer3;)possAnswer4=Math.floor(Math.random()*XanswerCoords.length)+1}function solve(e,t,s,o){var r=0;return 1==t?(r=o-s,r/=e):(r=o+s,r/=e)}function generateQuestion(){var e=getRandomInt(1,9);if(0==difficulty)for(;e==lastQuestionType;)e=getRandomInt(1,9);else if(1==difficulty){var t=[1,2,8],s=getRandomInt(0,2);e=t[s]}else if(2==difficulty){var t=[3,5,7],s=getRandomInt(0,2);e=t[s]}else if(3==difficulty){var t=[4,6,9],s=getRandomInt(0,2);e=t[s]}switch(lastQuestionType=e,e){case 1:var o=Math.floor(500*Math.random())+1,r=Math.floor(500*Math.random())+1;answer=o+r,drawEasyEquation(o,r,e);break;case 2:var o=Math.floor(500*Math.random())+1,r=Math.floor(500*Math.random())+1;o>=r?(answer=o-r,drawEasyEquation(o,r,e)):(answer=r-o,drawEasyEquation(r,o,e));break;case 3:var o=Math.floor(19*Math.random())+1,r=Math.floor(52*Math.random())+1;answer=o*r,drawEasyEquation(o,r,e);break;case 4:var n=getRandomInt(0,1);if(n=0,1==n){var o=getRandomInt(2,9),r=Math.floor(3*Math.random())+1;answer=1;for(var a=0;r>a;++a)answer*=o;drawEasyEquation(o,r,e,1)}else{var o=getRandomInt(2,9),r=Math.floor(4*Math.random())+1;answer=r;for(var i=1,a=0;r>a;++a)i*=o;drawEasyEquation(o,i,e,0)}break;case 5:for(var o=Math.floor(500*Math.random())+1,r=Math.floor(500*Math.random())+1;o%r!=0||o==r||1==r;)o=Math.floor(500*Math.random())+1,r=Math.floor(500*Math.random())+1;answer=o/r,drawEasyEquation(o,r,e);break;case 6:var o=getRandomInt(1,25),r=getRandomInt(1,25);answer=lcm(o,r),drawEasyEquation(o,r,e);break;case 7:var l=Math.floor(9*Math.random())+1,c=random_character(),d=getRandomInt(1,20),w=getRandomInt(0,1),m=getRandomInt(1,25);if(1==w)for(;(m-d)%l!=0;)d=getRandomInt(1,20),m=getRandomInt(1,25);else for(;(m+d)%l!=0;)m=getRandomInt(1,25),d=getRandomInt(1,20);answer=solve(l,w,d,m),drawEasyEquation(l,d,e,1,m,w);break;case 8:for(answer=1;1==answer;){var o=getRandomInt(1,250),r=getRandomInt(1,250);answer=gcd(o,r)}drawEasyEquation(o,r,e);break;case 9:var l=getRandomInt(2,15),c=random_character(),d=getRandomInt(1,50),w=getRandomInt(0,1),g=getRandomInt(0,1),m=getRandomInt(1,50),f=getRandomInt(1,15);if(1==g)if(1==w){for(;f>=l;)f=getRandomInt(1,15);for(;(m-d)%(l-f)!=0;)d=getRandomInt(1,50),m=getRandomInt(1,50);answer=solve(l-f,w,d,m)}else{for(;f>=l;)f=getRandomInt(1,15);for(;(m+d)%(l-f)!=0;)d=getRandomInt(1,50),m=getRandomInt(1,50);answer=solve(l-f,w,d,m)}else if(1==w){for(;(m-d)%(l+f)!=0;)d=getRandomInt(1,50),m=getRandomInt(1,50);answer=solve(l+f,w,d,m)}else{for(;(m+d)%(l+f)!=0;)d=getRandomInt(1,50),m=getRandomInt(1,50);answer=solve(l+f,w,d,m)}drawEasyEquation(l,c,e,w,d,m,g,f)}possibleAnswers[0]=answer,fillWrongAnswers()}function lcm(e,t){return e&&t?Math.abs(e*t/gcd(e,t)):0}function gcd(e,t){for(e=Math.abs(e),t=Math.abs(t);t;){var s=t;t=e%t,e=s}return e}function fillWrongAnswers(){var e;if(possibleAnswers[0]<0){e=getRandomInt(1,20),possibleAnswers[1]=-1*(e+answer);var t=possibleAnswers[0].toString();t=t.length,2==t?e=getRandomInt(1,10):3==t&&(e=getRandomInt(10,50)),e*=-1,possibleAnswers[2]=e,e=getRandomInt(1,10),possibleAnswers[3]=-1*(e+answer)}else{e=getRandomInt(1,20),possibleAnswers[1]=e+answer;var t=possibleAnswers[0].toString();t=t.length,1==t?e=getRandomInt(1,9):2==t?e=getRandomInt(10,99):3==t&&(e=getRandomInt(100,500)),possibleAnswers[2]=e,e=getRandomInt(1,10),possibleAnswers[3]=e+answer}}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}function scoreboarddisplay(e){var t=Math.floor(e/1e3);seconds=t%60,minutes=Math.floor(t/60),hours=Math.floor(t/3600);var s;1==lastQuestionType||2==lastQuestionType||8==lastQuestionType?s="Easy":3==lastQuestionType||5==lastQuestionType||7==lastQuestionType?s="Moderate":(4==lastQuestionType||6==lastQuestionType||9==lastQuestionType)&&(s="Hard"),ctx3.font="20px Time New Roman",ctx3.fillStyle="blue",ctx3.fillText("Score: "+player_score+"	Timer: "+minutes+" mins "+seconds+" secs	",0,20),ctx3.fillText("Difficulty: "+s+"	Possible Points: "+points(start_time_ms,current_time_ms),0,40)}function points(e,t){var s;return 1==lastQuestionType||2==lastQuestionType||8==lastQuestionType?(s=100/Math.pow(2,wrongCount),3e4>=t-e?Math.floor(1.5*s):6e4>=t-e?Math.floor(1.25*s):Math.floor(s)):3==lastQuestionType||5==lastQuestionType||7==lastQuestionType?(s=200/Math.pow(2,wrongCount),3e4>=t-e?Math.floor(1.5*s):6e4>=t-e?Math.floor(1.25*s):Math.floor(s)):4==lastQuestionType||6==lastQuestionType||9==lastQuestionType?(s=300/Math.pow(2,wrongCount),3e4>=t-e?Math.floor(1.5*s):6e4>=t-e?Math.floor(1.25*s):Math.floor(s)):void 0}function random_character(){var e="abcdefghijkmnpqurstuvwxyzABCDEFGHJKLMNPQURSTUVWXYZ";return e.substr(Math.floor(48*Math.random()),1)}var canvas=document.getElementById("function"),ctx=canvas.getContext("2d"),maze=document.getElementById("maze"),ctx2=maze.getContext("2d"),scoreboard=document.getElementById("scoreboard"),ctx3=scoreboard.getContext("2d"),WIDTH=600,HEIGHT=600,maze_type,src,last_src="_",xImg=new Image;xImg.crossOrigin="anonymous",xImg.src="http://i.imgur.com/hfofwvm.png";var checkImg=new Image;checkImg.crossOrigin="anonymous",checkImg.src="http://i.imgur.com/GAVvh4K.png";var img=new Image;img.crossOrigin="anonymous";var possibleMazes=["http://i.imgur.com/OQgTNuj.gif","http://i.imgur.com/flxIDNr.gif","http://i.imgur.com/pxR44tj.gif","http://i.imgur.com/q5tZz1U.gif","http://i.imgur.com/sudypqL.gif","http://i.imgur.com/tFBMs81.gif","http://i.imgur.com/ItHvT7v.gif","http://i.imgur.com/r2oir1h.gif","http://i.imgur.com/S3d0Wcr.gif","http://i.imgur.com/l7ZfTTL.gif","http://i.imgur.com/NGKX5tf.gif","http://i.imgur.com/qY1x4yk.gif","http://i.imgur.com/9zTyyeJ.gif","http://i.imgur.com/2vUXB3g.gif","http://i.imgur.com/R8ZYvcP.gif","http://i.imgur.com/nzH3QuD.gif","http://i.imgur.com/ooj3zxe.gif","http://i.imgur.com/NxDleTD.gif","http://i.imgur.com/OfqQYtJ.gif","http://i.imgur.com/jk0wHzz.gif"],dx=50,dy=50,player_x=0,player_y=0,player_score=0,playerColor="#6b2bab",animationXCoord=0,animationYCoord=0,XanswerCoords=[],YanswerCoords=[],answer1status=0,answer2status=0,answer3status=0,answer4status=0,collision=0,hit_Miss=[0,0],answer,possibleAnswers=[1,2,3,4],possAnswer1,possAnswer2,possAnswer3,possAnswer4,difficulty=0,questionDiff,lastQuestionType=-1,algebraQuestion=[0,"","",0,"=",0],wrongAnswer=!1,rightAnswer=!1,wrongCount=0,start_time,start_time_ms,current_time,current_time_ms,seconds=0,minutes=0,hours=0,fps=70,now,then=Date.now(),interval=1e3/fps,delta,visHitMiss=new test;window.alert("WARNING!!! This game may experience issues in browsers other than Google Chrome.");