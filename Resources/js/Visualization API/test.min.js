"use strict";function test(){this.dataStructure,this.dataStructureName="",this.canvasLocation="",this.locationWidth=null,this.locationHeight=null,this.canvas,this.structure=function(t){try{if("array"==t.toLowerCase()){this.dataStructure=new array,this.dataStructureName="array";var e=Math.floor(2e3*Math.random())+1;return this.src=e.toString(),this}if("speed"==t.toLowerCase())return this.dataStructure=new speed,this.dataStructureName="speed",this;throw"Entered a structure not currently supported."}catch(a){console.log(a)}},this.data=function(t){return"array"==this.dataStructureName?this.dataStructure.data=t.slice(0,t.length):"speed"==this.dataStructureName&&(t.rate1!=this.dataStructure.speed1&&(this.dataStructure.change1=!0),t.rate2!=this.dataStructure.speed2&&(this.dataStructure.change2=!0),t.rate3!=this.dataStructure.speed3&&(this.dataStructure.change3=!0),this.dataStructure.speed1=t.rate1,this.dataStructure.speed2=t.rate2,this.dataStructure.speed3=t.rate3),this},this.location=function(t){return this.canvasLocation=t,this.locationWidth=$(t).width(),this.locationHeight=$(t).height(),this},this.update=function(t){if("array"==this.dataStructureName){var e=!1;if(e=arraysEqual(t,this.dataStructure.data),e&&this.dataStructure.oldIndexColor==this.dataStructure.indexColor&&this.dataStructure.indexNumber<0)return this;this.data(t),this.canvas.selectAll("rect").remove(),this.canvas.selectAll("text").remove(),d3.select("#canvasArray"+this.src).remove(),this.visualize()}else"speed"==this.dataStructureName&&(d3.select("#canvasSpeed").remove(),t.rate1!=this.dataStructure.speed1&&(this.dataStructure.change1=!0),t.rate2!=this.dataStructure.speed2&&(this.dataStructure.change2=!0),t.rate3!=this.dataStructure.speed3&&(this.dataStructure.change3=!0),this.dataStructure.speed1=t.rate1,this.dataStructure.speed2=t.rate2,this.dataStructure.speed3=t.rate3,this.visualize());return this},this.visualize=function(){if("array"==this.dataStructureName)this.canvas=d3.select(this.canvasLocation).append("svg").attr("id","canvasArray"+this.src).attr("width",this.locationWidth).attr("height",this.locationHeight),visualizeArray(this);else if("speed"==this.dataStructureName){this.canvas=d3.select(this.canvasLocation).append("svg").attr("id","canvasSpeed").attr("width",this.locationWidth).attr("height",this.locationHeight);var t=this.dataStructure.div1,e=this.dataStructure.div2,a=this.dataStructure.div3,r=this.dataStructure.speed1,i=this.dataStructure.speed2,d=this.dataStructure.speed3,s=this.dataStructure.die1,u=this.dataStructure.die2,h=this.dataStructure.die3,n=["1","2","3","4","5","6"];this.dataStructure.myVar;1==this.dataStructure.change1&&(randomVis(s,t,r,n),this.dataStructure.change1=!1),1==this.dataStructure.change2&&(randomVis(u,e,i,n),this.dataStructure.change2=!1),1==this.dataStructure.change3&&(randomVis(h,a,d,n),this.dataStructure.change3=!1)}return this},this.attr=function(t,e,a){return"array"==this.dataStructureName&&("plane"==t.toLowerCase()&&("vertical"==e.toLowerCase()||"horizontal"==e.toLowerCase()?this.dataStructure.setPlane(e):console.log(e+" does not match the attribute "+t)),"index-color"==t.toLowerCase()&&("undefined"==typeof a||0>a||a>=this.dataStructure.data.length?this.dataStructure.setIndexColor(e):(this.dataStructure.indexNumber=a,this.dataStructure.singleIndexColor=e)),"text-color"==t.toLowerCase()&&this.dataStructure.setTextColor(e)),this}}function speed(){this.speed1=0,this.speed2=0,this.speed3=0,this.div1=document.getElementById("rate1Div"),this.div2=document.getElementById("rate2Div"),this.div3=document.getElementById("rate3Div"),this.change1=!1,this.change2=!1,this.change3=!1,this.die1=document.getElementById("dice1Div"),this.die2=document.getElementById("dice2Div"),this.die3=document.getElementById("dice3Div"),this.die1.style.backgroundImage="url(../dice/blank.png)",this.die2.style.backgroundImage="url(../dice/blank.png)",this.die3.style.backgroundImage="url(../dice/blank.png)",this.die1.style.backgroundSize="100% 100%",this.die2.style.backgroundSize="100% 100%",this.die3.style.backgroundSize="100% 100%",this.data=function(t){t.rate1!=this.speed1&&(this.change1=!0),t.rate2!=this.speed2&&(this.change2=!0),t.rate3!=this.speed3&&(this.change3=!0),this.speed1=t.rate1,this.speed2=t.rate2,this.speed3=t.rate3}}function setBarLength(t,e){switch(e){case 1:t.style.height="20%";break;case 2:t.style.height="40%";break;case 3:t.style.height="60%";break;case 4:t.style.height="80%";break;case 5:t.style.height="100%";break;default:t.style.height="100%"}}function randomVis(t,e,a,r){var i=setInterval(function(){var e=Math.floor(6*Math.random());t.style.backgroundImage="url(../dice/"+r[e]+".png)",t.style.backgroundSize="100% 100%"},50);setTimeout(function(){clearInterval(i);var d=a;t.style.backgroundImage="url(../dice/"+r[d-1]+".png)",t.style.backgroundSize="100% 100%",setBarLength(e,a)},1e3)}function array(){this.data=[],this.indexWidth=null,this.indexHeight=null,this.plane="horizontal",this.y=null,this.x=null,this.indexColor="white",this.oldIndexColor=this.indexColor,this.textColor="black",this.src="",this.indexNumber=-1,this.singleIndexColor,this.data=function(t){this.data=t.slice(0,t.length)},this.setIndexWidth=function(t){this.indexWidth=t},this.setIndexHeight=function(t){this.indexHeight=t},this.setPlane=function(t){this.plane=t},this.setIndexColor=function(t){this.oldIndexColor=this.indexColor,this.indexColor=t},this.setTextColor=function(t){this.textColor=t}}function arraysEqual(t,e){if(t.length!==e.length)return!1;for(var a=t.length;a--;)if(t[a]!==e[a])return!1;return!0}function visualizeArray(t){if(get_XY(t),"horizontal"==t.dataStructure.plane||"Horizontal"==t.dataStructure.plane)for(var e,a=0;a<t.dataStructure.data.length;++a)e=a==t.dataStructure.indexNumber?t.dataStructure.singleIndexColor:t.dataStructure.indexColor,t.canvas.selectAll("svg").data([1]).enter().append("rect").attr("width",t.dataStructure.indexWidth).attr("height",t.dataStructure.indexHeight).attr("y",t.dataStructure.y).attr("x",a*t.dataStructure.indexWidth).attr("fill",e).attr("class","shape").attr("stroke-width",2).attr("stroke","black"),t.canvas.selectAll("svg").data([1]).enter().append("text").text(t.dataStructure.data[a]).attr("class","wrap").attr("id","rectWrap"+t.src+a).attr("y",t.dataStructure.y).attr("x",a*t.dataStructure.indexWidth).attr("fill",t.dataStructure.textColor).attr("text-anchor","middle");else for(var e,a=0;a<t.dataStructure.data.length;++a)e=a==t.dataStructure.indexNumber?t.dataStructure.singleIndexColor:t.dataStructure.indexColor,t.canvas.selectAll("svg").data([1]).enter().append("rect").attr("width",t.dataStructure.indexWidth).attr("height",t.dataStructure.indexHeight).attr("y",t.dataStructure.indexHeight*a).attr("x",t.dataStructure.x).attr("fill",e).attr("class","shape").attr("stroke-width",2).attr("stroke","black"),t.canvas.selectAll("svg").data([1]).enter().append("text").text(t.dataStructure.data[a]).attr("class","wrap").attr("id","rectWrap"+t.src+a).attr("y",t.dataStructure.indexHeight*a).attr("x",t.dataStructure.x).attr("fill",t.dataStructure.textColor).attr("text-anchor","middle");for(var r=0;r<t.dataStructure.data.length;++r)d3plus.textwrap().container(d3.select("#rectWrap"+t.src+r)).resize(!0).draw()}function get_XY(t){var e=t.locationHeight,a=t.locationWidth,r=t.dataStructure.data.length;"Horizontal"==t.dataStructure.plane||"horizontal"==t.dataStructure.plane?0==a?console.log("Please enter a width for the location: "+t.canvasLocation+". Otherwise this cannot be visualized horizontally."):0==e?(a/r>100?(t.dataStructure.setIndexWidth(100),t.dataStructure.setIndexHeight(100)):(t.dataStructure.setIndexWidth(a/r),t.dataStructure.setIndexHeight(a/r)),t.dataStructure.y=2,t.canvas.attr("height",t.dataStructure.indexHeight+8)):(a/r>100?(t.dataStructure.setIndexWidth(100),t.dataStructure.setIndexHeight(100)):a/r>e?(t.dataStructure.setIndexWidth(e-4),t.dataStructure.setIndexHeight(e-4)):(t.dataStructure.setIndexWidth(a/r),t.dataStructure.setIndexHeight(a/r)),t.dataStructure.y=e/2-t.dataStructure.indexHeight/2):0==e?console.log("Please enter a height for the location: "+t.canvasLocation+". Otherwise this cannot be visualized vertically."):0==a?(e/r>100?(t.dataStructure.setIndexWidth(100),t.dataStructure.setIndexHeight(100)):(t.dataStructure.setIndexWidth(e/r),t.dataStructure.setIndexHeight(e/r)),t.dataStructure.x=2,t.canvas.attr("width",t.dataStructure.indexWidth+8)):(e/r>100?(t.dataStructure.setIndexWidth(100),t.dataStructure.setIndexHeight(100)):e/r>a?(t.dataStructure.setIndexWidth(a-4),t.dataStructure.setIndexHeight(a-4)):(t.dataStructure.setIndexWidth(e/r),t.dataStructure.setIndexHeight(e/r)),t.dataStructure.x=a/2-t.dataStructure.indexWidth/2)}